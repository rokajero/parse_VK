## Инструменты для парсинга данных о пользователях VK
### ***Описание***


> Инструменты:
> - коннектор к VK API
> - приложение для перевода данных из JSON в NDJSON
> - коннектор к ELK


В директории с рабочими файлами должны располгаться две папки: tst и winrar. В первую будут записываться данные полученные от ВК + там же должен храниться конфиг. Вторая папка нужна для сохранения обработанных файлов, можно назвать как угодно, главное потом не забыть как назвали.

---
Для работы парсера необходим **config.json**, в котором должны быть указаны следующие параметры:
~~~
{
	"position" : <start_id>			- стартовое значение, от какого ID получать пользователей (будет изменяться в процессе работы)
	"token":"token",                      	- ключ доступа пользователя к VK API
	"stop_number":"C:"                      - конечное число, на котором необходимо остановиться
}
~~~
---
Для работы приложения по перводу формата файлов:
- запустить приложение;
- в открывшемся окне указать следующие параметры:
	- название первого архива;
	- путь к файлам JSON (достаточно просто ввести название папки);
	- число первого файла;
	- число конечного файла (лучше указывать диапазон в 1 000 000 записей -> 2000 файлов);
	- путь сохранения (как раз вторая папка winrar);
	- количество повторов (например, мы скачали профили от 1 000 000 до 10 000 000, значит первая цифра - 1 001 000, вторая цифра 2 000 000, название архива 2M, количество повторений 9).

В итоге мы получим 9 архивов со сжатыми JSON данными, 9 NDJSON файлов по 1 000 000 записей.
Программа может иметь ошибки и недочеты, код можно изменять и кастомизировать как душе угодно.

---

Для работы коннектора к Elasticsearch, необходимо указать адрес подключения и путь к сертификату. Лучше отредактировать код перед применением. При запуске программа спросит путь к файлам для записи, далее проверит соединение с Elasticsearch, если все в порядке, то дальше работа автоматизирована.


Необходимые библиотеки указаны в файле **requirements.txt**
Помимо исходных кодов добавлены так же и исполняемые файлы, но они настроены сугубо для решения локальной задачи, поэтому скорее всего следует исправить код под себя и заново пересобрать (например с помощью библиотеки auto-py-to-exe)

